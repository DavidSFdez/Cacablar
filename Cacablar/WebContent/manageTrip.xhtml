<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	template="/templates/template-general.xhtml">


	<ui:define name="title">#{msgs.manageTrip_title}</ui:define>

	<ui:define name="content">

		<h:form id="registrar" action="registrarViaje">

		 <p:messages id="messages" showDetail="true" />
		
			<h:panelGrid columns="2" columnClasses="label, value">
			
				<f:facet name="header">
					<h:outputText value="#{msgs.manageTrip_tabDepature}" />
				</f:facet>
			
				<h:outputText value="#{msgs.address}: *" />
				<p:inputText id="calle" value="#{wizardTrip.addressD}"  />

				<h:outputText value="#{msgs.city}: *" />
				<p:inputText value="#{wizardTrip.cityD}"  />

				<h:outputText value="#{msgs.state}: *" />
				<p:inputText value="#{wizardTrip.stateD}"  />

				<h:outputText value="#{msgs.country}: *" />
				<p:inputText value="#{wizardTrip.countryD}"  />

				<h:outputText value="#{msgs.zipCode}: *" />
				<p:inputText value="#{wizardTrip.zipCodeD}"  />

				<h:outputText value="#{msgs.latitude}:" />
				<p:inputText value="#{wizardTrip.latD}" />

				<h:outputText value="#{msgs.longitude}:" />
				<p:inputText value="#{wizardTrip.lonD}" />

				<p:outputLabel for="fechaSalida" value="#{msgs.departureDate}: *" />
				<p:calendar id="fechaSalida" value="#{wizardTrip.trip.departureDate}"
					pattern="MM/dd/yyyy HH:mm:ss" mindate="#{wizardTrip.today}"/>

			</h:panelGrid>

			<h:panelGrid columns="2" columnClasses="label, value">
			
				<f:facet name="header">
					<h:outputText value="#{msgs.manageTrip_tabDestination}" />
				</f:facet>

				<h:outputText value="#{msgs.address}: *" />
				<p:inputText value="#{wizardTrip.addressA}"  />

				<h:outputText value="#{msgs.city}: *" />
				<p:inputText value="#{wizardTrip.cityA}"  />

				<h:outputText value="#{msgs.state}: *" />
				<p:inputText value="#{wizardTrip.stateA}"  />

				<h:outputText value="#{msgs.country}: *" />
				<p:inputText value="#{wizardTrip.countryA}"  />

				<h:outputText value="#{msgs.zipCode}: *" />
				<p:inputText value="#{wizardTrip.zipCodeA}"  />

				<h:outputText value="#{msgs.latitude}:" />
				<p:inputText value="#{wizardTrip.latA}" />

				<h:outputText value="#{msgs.longitude}:" />
				<p:inputText value="#{wizardTrip.lonA}" />

				<p:outputLabel for="fechaLlegada" value="#{msgs.arrivalDate}: *" />
				<p:calendar id="fechaLlegada" value="#{wizardTrip.trip.arrivalDate}"
					pattern="MM/dd/yyyy HH:mm:ss"
					mindate="#{wizardTrip.trip.departureDate}"  />
			</h:panelGrid>

			<h:panelGrid columns="2" columnClasses="label, value">
			
			<f:facet name="header">
					<h:outputText value="#{msgs.manageTrip_tabData}" />
				</f:facet>
			
			

				<p:outputLabel for="fechaCierre" value="#{msgs.closingDate}: *" />
				<p:calendar id="fechaCierre" value="#{wizardTrip.trip.closingDate}"
					pattern="MM/dd/yyyy HH:mm:ss" mindate="#{wizardTrip.today}"
					maxdate="#{wizardTrip.trip.departureDate}"  />

				<h:outputText value="#{msgs.estimatedCost}: *" />
				<p:spinner id="cost" value="#{wizardTrip.trip.estimatedCost}" prefix="â‚¬"
					min="0"  />

				<h:outputText value="#{msgs.comments}: *" />
				<p:inputTextarea rows="3" cols="33" value="#{wizardTrip.trip.comments}"
					 />

				<h:outputLabel for="maxPax" value="#{msgs.maxPax}: *" />
				<p:spinner id="maxPax" value="#{wizardTrip.trip.maxPax}" min="1"
					 rendered="#{wizardTrip.update==false}" />
			</h:panelGrid>

			<p:commandButton value="#{msgs.accept}"
				action="#{wizardTrip.save(user.user.id)}" update="messages"
				process="@this" rendered="#{wizardTrip.update==false}" />
			<p:commandButton value="#{msgs.accept}"
				action="#{wizardTrip.updateTrip(user.user.id)}" update="messages"
				process="@this" rendered="#{wizardTrip.update}" />


			<p:commandButton id="precarga"
				value="#{msgs.manageTrip_preloadButtom}"
				action="#{wizardTrip.preloadTripData}" update="@all"
				rendered="#{wizardTrip.update==false}" />
		</h:form>
	</ui:define>

</ui:composition>
