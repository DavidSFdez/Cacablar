<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	template="/templates/template-general.xhtml">


	<ui:define name="title">Registrar Viaje</ui:define>

	<ui:define name="content">
		
		<h:form id="registrar" action="registrarViaje">

			<p:growl id="growl" sticky="true" showDetail="true" />

			<h:panelGrid columns="2" columnClasses="label, value">
				<h:outputText value="Calle: *" />
				<p:inputText id="calle" value="#{wizardTrip.addressD}" required="true" />

				<h:outputText value="Ciudad: *" />
				<p:inputText value="#{wizardTrip.cityD}" required="true" />

				<h:outputText value="Provincia: *" />
				<p:inputText value="#{wizardTrip.stateD}" required="true" />

				<h:outputText value="País: *" />
				<p:inputText value="#{wizardTrip.countryD}" required="true" />

				<h:outputText value="Código postal: *" />
				<p:inputText value="#{wizardTrip.zipCodeD}" required="true" />

				<h:outputText value="Coordenadas latitud:" />
				<p:inputText value="#{wizardTrip.latD}" />

				<h:outputText value="Coordenadas longitud" />
				<p:inputText value="#{wizardTrip.lonD}" />


				<p:outputLabel for="fechaSalida" value="Fecha Salida: " />
				<p:calendar id="fechaSalida" value="#{wizardTrip.trip.departureDate}"
					pattern="MM/dd/yyyy HH:mm:ss" mindate="#{wizardTrip.today}"
					required="true" />

			</h:panelGrid>

			<h:panelGrid columns="2" columnClasses="label, value">
				<h:outputText value="Calle: *" />
				<p:inputText value="#{wizardTrip.addressA}" required="true" />

				<h:outputText value="Ciudad: *" />
				<p:inputText value="#{wizardTrip.cityA}" required="true" />

				<h:outputText value="Provincia: *" />
				<p:inputText value="#{wizardTrip.stateA}" required="true" />

				<h:outputText value="País: *" />
				<p:inputText value="#{wizardTrip.countryA}" required="true" />

				<h:outputText value="Código postal: *" />
				<p:inputText value="#{wizardTrip.zipCodeA}" required="true" />

				<h:outputText value="Coordenadas latitud:" />
				<p:inputText value="#{wizardTrip.latA}" />

				<h:outputText value="Coordenadas longitud" />
				<p:inputText value="#{wizardTrip.lonA}" />

				<p:outputLabel for="fechaLlegada" value="Fecha Llegada: " />
				<p:calendar id="fechaLlegada" value="#{wizardTrip.trip.arrivalDate}"
					pattern="MM/dd/yyyy HH:mm:ss"
					mindate="#{wizardTrip.trip.departureDate}" required="true" />

			</h:panelGrid>

			<h:panelGrid columns="2" columnClasses="label, value">

				<p:outputLabel for="fechaCierre" value="Fecha de cierre: " />
				<p:calendar id="fechaCierre" value="#{wizardTrip.trip.closingDate}"
					pattern="MM/dd/yyyy HH:mm:ss" mindate="#{wizardTrip.today}"
					maxdate="#{wizardTrip.trip.departureDate}" required="true" />


				<h:outputText value="Coste: *" />
				<p:spinner id="cost" value="#{wizardTrip.trip.estimatedCost}" prefix="€"
					min="0" required="true" />

				<h:outputText value="Descripción o comentarios: *" />
				<p:inputTextarea rows="3" cols="33" value="#{wizardTrip.trip.comments}"
					required="true" />

				<h:outputLabel for="maxPax" value="Número de plazas: *" />
				<p:spinner id="maxPax" value="#{wizardTrip.trip.maxPax}" min="1"
					required="true" rendered="#{wizardTrip.update==false}" />


			</h:panelGrid>


			<h:panelGrid columns="2" columnClasses="label, value">


				<h:outputText value="Número de plazas " />
				<h:outputText value="#{wizardTrip.trip.maxPax}" styleClass="outputLabel"
					rendered="#{wizardTrip.update}" />

				<h:outputText value="Plazas disponibles: " />
				<h:outputText value="#{wizardTrip.trip.availablePax}"
					styleClass="outputLabel" rendered="#{wizardTrip.update}" />

				<h:outputText />
				<h:outputText />
			</h:panelGrid>


			<p:commandButton value="#Submit"
				action="#{wizardTrip.save(user.user.id)}" update="growl" process="@this"
				rendered="#{wizardTrip.update==false}" />
			<p:commandButton value="#Modificar"
				action="#{wizardTrip.updateTrip(user.user.id)}" update="growl"
				process="@this" rendered="#{wizardTrip.update}" />
			
			
			<p:commandButton id="precarga" value="precarga"
				action="#{wizardTrip.preloadTripData}" update="@all"
				rendered="#{wizardTrip.update==false}" />
		</h:form>
	</ui:define>

</ui:composition>
